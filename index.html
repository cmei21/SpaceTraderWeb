<!DOCTYPE>
<html>
<center>
<head>
<link rel="stylesheet" href="MeghaGraderStyleSheet.css" />
<script type = "text/javascript">
function Grader()
{
	var testList = document.getElementById('test').value;
	var testPts = testList.split(',');
	var testTotPts = 0;
	for (i = 0; i < testPts.length; i++){
		testTotPts = testTotPts + parseFloat(testPts[i]);
	}
	var testAvgPts = parseFloat((testTotPts/testPts.length)*(document.getElementById('testWeight').value/100));
	
	var hwList = document.getElementById('hw').value;
	var hwPts = hwList.split(',');
	var hwTotPts = 0;
	for (i = 0; i < hwPts.length; i++){
		hwTotPts = hwTotPts + parseFloat(hwPts[i]);
	}
	var hwAvgPts = parseFloat((hwTotPts/hwPts.length)*(document.getElementById('hwWeight').value/100));
	
	var quizList = document.getElementById('quiz').value;
	var quizPts = quizList.split(',');
	var quizTotPts = 0;
	for (i = 0; i < quizPts.length; i++){
		quizTotPts = quizTotPts + parseFloat(quizPts[i]);
	}
	var quizAvgPts = parseFloat((quizTotPts/quizPts.length)*(document.getElementById('quizWeight').value/100));
	
	var CPList = document.getElementById('CP').value;
	var CPPts = CPList.split(',');
	var CPTotPts = 0;
	for (i = 0; i < CPPts.length; i++){
		CPTotPts = CPTotPts + parseFloat(CPPts[i]);
	}
	var CPAvgPts = parseFloat((CPTotPts/CPPts.length)*(document.getElementById('CPWeight').value/100));
	
	var ECList = document.getElementById('EC').value;
	var ECPts = ECList.split(',');
	var ECTotPts = 0;
	for (i = 0; i < ECPts.length; i++){
		ECTotPts = ECTotPts + parseFloat(ECPts[i]);
	}
	var ECAvgPts = parseFloat((ECTotPts/ECPts.length));
	
	var totalGrade = parseFloat(document.getElementById('finalGrade').value);
	var testWeight = parseFloat(document.getElementById('testWeight').value);
	var hwWeight = parseFloat(document.getElementById('hwWeight').value);
	var quizWeight = parseFloat(document.getElementById('quizWeight').value);
	var CPWeight = parseFloat(document.getElementById('CPWeight').value);
	var finalWeight = parseFloat(document.getElementById('final').value);
	var currTot = testAvgPts + hwAvgPts + quizAvgPts + CPAvgPts + ECAvgPts;
	var diff = totalGrade - currTot;
	var finalScore = Math.ceil(diff/(finalWeight/100));
	if (testWeight+hwWeight+quizWeight+CPWeight+finalWeight != 100) {
		document.getElementById('outputDiv').innerHTML = 'Category weights do not add up to 100. Please try again.';
	} else {
	document.getElementById('outputDiv').innerHTML = 'You need to score ' + finalScore + '% on the final exam to receive a final grade of ' + totalGrade + ' in the class.';
	}
}
</script>
</head>
<body>
<p>
	<h1> <center> Calculate Final Grades </center> </h1>
	<h2><center>Enter the weight and your grades (in a comma-separated list) for each section.</h2>
	<h3><center>Enter your desired grade in the class at the bottom.</h3>

	<table>
  	<tr>
	 <th>Category</th>
	 <th>Weight</th>
	 <th>Grade</th>
	</tr>
	<tr>
	 <td>Tests</td>
	 <td><input type="text" id="testWeight" size=2 value=""></td>
	 <td><input type="text" id="test" size=2 value=""></td>
	</tr>
	<tr>
	 <td>Homework</td>
	 <td><input type="text" id="hwWeight" size=2 value=""></td>
	 <td><input type="text" id="hw" size=2 value=""></td>
	</tr>
	<tr>
	 <td>Quizzes</td>
	 <td><input type="text" id="quizWeight" size=2 value=""></td>
	 <td><input type="text" id="quiz" size=2 value=""></td>
	</tr>
	<tr>
	 <td>Class Participation</td>
	 <td><input type="text" id="CPWeight" size=2 value=""></td>
	 <td><input type="text" id="CP" size=2 value=""></td>
	</tr>
	<tr>
	 <td>Extra Credit</td>
	 <td style = "background-color:lightblue"></td>
	 <td><input type="text" id="EC" size=2 value=""></td>
	</tr>
	<tr>
	 <td>Final Exam</td>
	 <td><input type="text" id="final" size=2 value=""></td>
  	</tr>
	<tr>
	<td>Final Grade Desired</td>
	<td></td>
	<td><input type= "text" id="finalGrade" size=2 value=""></td>
	</tr>
	</table>
<br>
</p>

<input type= "button" value = "Calculate Grade" onclick="Grader();">
<hr>
<div id="outputDiv"></div>

</body>
</center>
</html>